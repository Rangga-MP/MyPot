<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Porto</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

    <style>
        /*
         * ==============================================
         * CSS RESET & VARIABEL GLOBAL
         * ==============================================
         */
        :root {
            --bg-color: #f0f0f0;
            --bg-secondary-color: #ffffff;
            --text-color: #444444;
            --heading-color: #1a1a1a;
            --accent-color: #007aff;
            --accent-color-dark: #0056b3;
            --shadow-light: rgba(0, 0, 0, 0.05);
            --shadow-medium: rgba(0, 0, 0, 0.1);
            --font-primary: 'Inter', sans-serif;
            --font-heading: 'Playfair Display', serif;
            --transition-fast: 0.3s ease;
            --transition-medium: 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
            --transition-slow: 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: var(--font-primary);
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.7;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
            cursor: none; /* Sembunyikan kursor default */
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 2;
        }

        section {
            padding: 8rem 0;
            overflow: hidden;
            position: relative;
        }
        
        /*
         * ==============================================
         * KURSOR KUSTOM
         * ==============================================
         */
        #custom-cursor {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 9999;
        }

        .cursor-dot, .cursor-circle {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            border-radius: 50%;
            mix-blend-mode: difference;
            transform: translate(-50%, -50%);
        }

        .cursor-dot {
            width: 8px;
            height: 8px;
            background-color: white;
        }

        .cursor-circle {
            width: 40px;
            height: 40px;
            border: 2px solid rgb(107, 105, 105);
            transition: width 0.3s ease, height 0.3s ease, transform 0.2s ease-out;
        }

        body.cursor-hovered .cursor-circle {
            transform: translate(-50%, -50%) scale(1.5);
        }

        @media (pointer: coarse) {
            body { cursor: auto; }
            #custom-cursor { display: none; }
        }

        /*
         * ==============================================
         * LATAR BELAKANG 3D (THREE.JS)
         * ==============================================
         */
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        /*
         * ==============================================
         * HEADER / NAVIGASI
         * ==============================================
         */
        #main-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            padding: 1.5rem 0;
            transition: var(--transition-fast);
        }

        #main-header.scrolled {
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px var(--shadow-light);
            padding: 1rem 0;
        }

        #main-header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--heading-color);
            text-decoration: none;
        }
        
        /*
         * ==============================================
         * NAVIGASI SAMPING (SCROLL STEPS)
         * ==============================================
         */
        #side-nav {
            position: fixed;
            top: 50%;
            right: 2rem;
            transform: translateY(-50%);
            z-index: 1001;
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
        }

        .nav-dot {
            position: relative;
            width: 14px;
            height: 14px;
            background-color: rgba(0, 0, 0, 0.2);
            border: 2px solid transparent;
            border-radius: 50%;
            transition: var(--transition-fast);
        }
        
        .nav-dot:hover {
            transform: scale(1.2);
        }

        .nav-dot.active {
            background-color: var(--accent-color);
            transform: scale(1.5);
            border-color: rgba(0, 122, 255, 0.3);
        }

        .nav-dot .tooltip {
            position: absolute;
            top: 50%;
            right: 180%;
            transform: translate(10px, -50%);
            background-color: var(--heading-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.9rem;
            font-weight: 500;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-fast);
            pointer-events: none;
        }
        
        .nav-dot:hover .tooltip {
            opacity: 1;
            visibility: visible;
            transform: translate(0, -50%);
        }

        /*
         * ==============================================
         * BAGIAN HERO
         * ==============================================
         */
        #hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            text-align: center;
        }

        .hero-title {
            font-family: var(--font-heading);
            font-size: clamp(3rem, 8vw, 5rem);
            color: var(--heading-color);
            line-height: 1.1;
        }

        .hero-title .char {
            display: inline-block;
            will-change: transform; /* Optimasi animasi */
        }

        .hero-subtitle {
            font-size: 1.25rem;
            max-width: 750px;
            margin: 2rem auto 0;
            color: #555;
            font-weight: 300;
        }
        
        /*
         * ==============================================
         * BAGIAN PORTOFOLIO
         * ==============================================
         */
        #portfolio {
            background-color: var(--bg-secondary-color);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title h2 {
            font-family: var(--font-heading);
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            color: var(--heading-color);
            margin-bottom: 0.5rem;
        }

        .section-title p {
            color: #666;
            max-width: 600px;
            margin: 0 auto;
        }

        .filter-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 4rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: none;
            border: 1px solid #ddd;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            font-family: var(--font-primary);
            font-weight: 500;
            font-size: 1rem;
            transition: var(--transition-fast);
        }

        .filter-btn.active, .filter-btn:hover {
            background-color: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
            transform: translateY(-2px);
        }

        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
        }

        .grid-item {
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 8px 25px var(--shadow-light);
            aspect-ratio: 3 / 4;
            transition: box-shadow var(--transition-fast);
            will-change: transform; /* Optimasi animasi */
        }
        
        .grid-item:hover {
            box-shadow: 0 16px 40px var(--shadow-medium);
        }

        .grid-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: transform 0.8s var(--transition-slow);
        }

        .grid-item:hover img {
            transform: scale(1.05);
        }

        .item-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 3rem 1.5rem 1.5rem;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.85), transparent);
            color: white;
            transform: translateY(100%);
            transition: var(--transition-medium);
        }

        .grid-item:hover .item-overlay {
            transform: translateY(0);
        }

        .item-overlay h3 {
            font-weight: 500;
            font-size: 1.3rem;
            margin-bottom: 0.25rem;
        }
        
        .item-overlay span {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /*
         * ==============================================
         * BAGIAN TENTANG SAYA
         * ==============================================
         */
        #about .container {
            display: flex;
            align-items: center;
            gap: 5rem;
        }

        .about-image {
            flex-basis: 40%;
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 15px 50px rgba(0,0,0,0.15);
        }
        
        .about-image img {
            display: block;
            width: 100%;
            border-radius: 12px;
        }
        
        .about-content {
            flex-basis: 60%;
        }

        .about-content h2 {
            font-family: var(--font-heading);
            font-size: 3rem;
            color: var(--heading-color);
            margin-bottom: 1.5rem;
        }
        
        .about-content p {
            margin-bottom: 1.5rem;
        }

        /*
         * ==============================================
         * FOOTER / KONTAK
         * ==============================================
         */
        #contact {
            padding: 8rem 0;
            color: white;
            background-color: #111;
        }

        .contact-content {
            text-align: center;
            padding: 4rem;
            background-color: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .contact-content h2 {
            font-family: var(--font-heading);
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            margin-bottom: 1rem;
        }
        
        .contact-content p {
            max-width: 600px;
            margin: 0 auto 2.5rem auto;
            opacity: 0.9;
        }
        
        .contact-email {
            font-size: 1.5rem;
            font-weight: 500;
            text-decoration: none;
            color: white;
            display: inline-block;
            margin-bottom: 3rem;
            position: relative;
        }
        
        .contact-email::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 2px;
            bottom: -5px;
            left: 0;
            background-color: var(--accent-color);
            transform: scaleX(0);
            transform-origin: bottom right;
            transition: transform 0.4s ease-out;
        }
        
        .contact-email:hover::after {
            transform: scaleX(1);
            transform-origin: bottom left;
        }

        .social-icons {
            display: flex;
            justify-content: center;
            gap: 2rem;
        }

        .social-icons a {
            color: white;
            opacity: 0.8;
            transition: var(--transition-fast);
        }
        
        .social-icons a:hover {
            opacity: 1;
            transform: scale(1.2) rotate(5deg);
        }

        .social-icons svg {
            width: 28px;
            height: 28px;
        }

        /*
         * ==============================================
         * LIGHTBOX
         * ==============================================
         */
        #lightbox {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(24, 24, 24, 0.9);
            backdrop-filter: blur(10px);
            z-index: 9998;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            opacity: 0;
            visibility: hidden;
            transition: opacity var(--transition-fast), visibility var(--transition-fast);
        }

        #lightbox.show {
            opacity: 1;
            visibility: visible;
        }

        .lightbox-container {
            display: flex;
            gap: 2rem;
            width: 80%;
            height: 80%;
            max-width: 1400px;
            max-height: 800px;
        }
        
        .lightbox-image {
            flex-basis: 70%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lightbox-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 8px;
        }
        
        .lightbox-details {
            flex-basis: 30%;
            color: white;
            padding: 2rem;
            background-color: rgba(0,0,0,0.2);
            border-radius: 8px;
            overflow-y: auto;
        }
        
        .lightbox-details h3 {
            font-family: var(--font-heading);
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        
        .lightbox-details p {
            font-size: 1rem;
            opacity: 0.8;
        }

        #lightbox-close {
            position: absolute;
            top: 2rem;
            right: 2rem;
            font-size: 2.5rem;
            color: white;
            line-height: 1;
            transition: transform var(--transition-fast);
        }
        #lightbox-close:hover {
            transform: rotate(90deg) scale(1.1);
        }

        /*
         * ==============================================
         * RESPONSIVE DESIGN
         * ==============================================
         */
        @media (max-width: 1024px) {
            .portfolio-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
            #about .container {
                flex-direction: column;
                text-align: center;
            }
        }

        @media (max-width: 768px) {
            section { padding: 5rem 0; }
            .container { padding: 0 1rem; }
            #side-nav { display: none; } /* Sembunyikan di mobile untuk simple */
            .portfolio-grid { gap: 1rem; }
            .lightbox-container {
                flex-direction: column;
                width: 95%;
                height: 95%;
            }
            .lightbox-image, .lightbox-details {
                flex-basis: auto;
            }
            .lightbox-image { height: 60%; }
            .lightbox-details { height: 40%; }
            .contact-content {
                width: 90%;
                padding: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Kursor Kustom -->
    <div id="custom-cursor">
        <div class="cursor-dot"></div>
        <div class="cursor-circle"></div>
    </div>

    <!-- Latar Belakang 3D -->
    <canvas id="bg-canvas"></canvas>

    <header id="main-header">
        <div class="container">
            <a href="#" class="logo">Rangga Mahendra P.</a>
        </div>
    </header>

    <nav id="side-nav">
        <a href="#hero" class="nav-dot active" data-section="hero"><span class="tooltip">Beranda</span></a>
        <a href="#portfolio" class="nav-dot" data-section="portfolio"><span class="tooltip">Karya</span></a>
        <a href="#about" class="nav-dot" data-section="about"><span class="tooltip">Tentang</span></a>
        <a href="#contact" class="nav-dot" data-section="contact"><span class="tooltip">Kontak</span></a>
    </nav>

    <main>
        <section id="hero">
            <div class="container">
                <h1 class="hero-title">Graphic Designer</h1>
                <p class="hero-subtitle">Saya adalah seorang desainer grafis yang bersemangat dalam mengubah ide menjadi karya visual yang bermakna dan memikat.</p>
            </div>
        </section>

        <section id="portfolio">
            <div class="container">
                <div class="section-title">
                    <h2>Karya Pilihan</h2>
                    <p>Berikut adalah beberapa proyek yang telah saya kerjakan, mencakup berbagai disiplin ilmu dalam desain grafis.</p>
                </div>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">Semua</button>
                    <button class="filter-btn" data-filter="branding">Branding</button>
                    <button class="filter-btn" data-filter="ilustrasi">Ilustrasi</button>
                    <button class="filter-btn" data-filter="uiux">UI/UX</button>
                </div>
                <div class="portfolio-grid">
                    <!-- Item Portofolio akan diisi oleh JS dari data asli -->
                </div>
            </div>
        </section>

        <section id="about">
            <div class="container">
                <div class="about-image">
                    <img src="https://images.unsplash.com/photo-1557862921-37829c790f19?q=80&w=1000&auto=format&fit=crop" alt="Foto profil desainer">
                </div>
                <div class="about-content">
                    <h2>Halo, Saya Rangga.</h2>
                    <p>Saya telah membantu berbagai merek untuk berkomunikasi secara visual. Saya percaya bahwa desain yang baik adalah perpaduan antara estetika yang kuat dan solusi fungsional yang menjawab kebutuhan klien.</p>
                    <p>Keahlian saya meliputi identitas merek (branding), desain antarmuka (UI/UX), dan ilustrasi digital. Saya selalu antusias untuk mempelajari hal-hal baru dan berkolaborasi dalam proyek-proyek yang menantang.</p>
                </div>
            </div>
        </section>

        <section id="contact">
            <div class="container">
                <div class="contact-content">
                    <h2>Mari Berkolaborasi</h2>
                    <p>Punya ide atau proyek yang menarik? Saya akan senang mendengar dari Anda dan melihat bagaimana kita bisa menciptakan sesuatu yang luar biasa bersama.</p>
                    <a href="mailto:adiguna.p@example.com" class="contact-email">adiguna.p@example.com</a>
                    <div class="social-icons">
                         <a href="#" aria-label="LinkedIn">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.25 6.5 1.75 1.75 0 016.5 8.25zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.62 1.62 0 0013 14.19V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"></path></svg>
                        </a>
                        <a href="#" aria-label="Instagram">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.012 3.584-.07 4.85c-.148 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.85s.012-3.584.07-4.85c.149-3.225 1.664-4.771 4.919-4.919C8.416 2.175 8.796 2.163 12 2.163zm0 1.441c-3.161 0-3.523.011-4.753.068-2.688.123-3.927 1.362-4.05 4.05-.057 1.23-.067 1.59-.067 4.753s.01 3.523.067 4.753c.123 2.688 1.362 3.927 4.05 4.05 1.23.057 1.59.067 4.753.067s3.523-.01 4.753-.067c2.688-.123 3.927-1.362 4.05-4.05.057-1.23.067-1.59.067-4.753s-.01-3.523-.067-4.753c-.123-2.688-1.362-3.927-4.05-4.05C15.523 3.614 15.161 3.604 12 3.604zm0 4.865a3.532 3.532 0 100 7.064 3.532 3.532 0 000-7.064zm0 5.622a2.09 2.09 0 110-4.18 2.09 2.09 0 010 4.18zm4.965-6.796a1.2 1.2 0 100 2.4 1.2 1.2 0 000-2.4z"></path></svg>
                        </a>
                        <a href="#" aria-label="Dribbble">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c1.85 0 3.58-.51 5.07-1.38-.42-.35-.8-.75-1.15-1.18-.35-.42-.66-.88-.93-1.37-.53-.97-.93-2.03-.93-3.14 0-1.4.53-2.68 1.4-3.73.88-1.05 2.08-1.73 3.48-1.88.1-.01.2-.02.3-.02.43 0 .85.06 1.26.18.2.06.39.13.58.21.52.22.98.5 1.38.84.18.15.35.3.51.47.16.17.3.34.44.51.41.51.74 1.08.98 1.7.24.62.37 1.29.37 2 0 .8-.15 1.58-.45 2.3-.3.72-.72 1.39-1.23 1.98-.58.66-1.25 1.23-2 1.7l-.1.06c-1.4.81-3.03 1.29-4.77 1.29-4.41 0-8-3.59-8-8s3.59-8 8-8c.18 0 .36.01.53.02C16.97 4.47 19.5 7.42 19.5 11c0 .34-.04.68-.1.99-.18.99-.58 1.89-1.15 2.65-.57.76-1.3 1.38-2.15 1.85-.85.47-1.81.71-2.85.71-1.73 0-3.28-.68-4.42-1.82A6.27 6.27 0 016.5 11c0-1.41.46-2.7 1.25-3.75.79-1.05 1.88-1.75 3.13-1.98.5-.09 1.01-.13 1.52-.13.82 0 1.6.15 2.31.44.71.29 1.35.72 1.88 1.25.53.53.94 1.16 1.22 1.85.28.69.43 1.43.43 2.21 0 .7-.12 1.36-.35 1.98-.23.62-.56 1.19-.98 1.68-.42.49-.9.9-1.42 1.23-.52.33-1.08.58-1.67.75-.59.17-1.2.25-1.83.25-1.3 0-2.48-.4-3.47-1.11A4.2 4.2 0 018.5 11c0-2.34 1.91-4.25 4.25-4.25.34 0 .67.04 1 .12.92.21 1.73.69 2.33 1.37.6.68.97 1.55.97 2.51 0 .84-.23 1.63-.66 2.31-.43.68-1 1.24-1.67 1.65-.67.41-1.42.62-2.22.62-.83 0-1.58-.23-2.22-.69-.64-.46-1.12-1.08-1.38-1.82-.1-.28-.15-.57-.15-.88 0-.96.38-1.83 1.03-2.48.65-.65 1.52-1.03 2.48-1.03.22 0 .43.02.65.06.22.04.43.1.64.18.62.23 1.16.63 1.58 1.16.42.53.65 1.16.65 1.84 0 .3-.04.59-.11.88-.07.29-.18.56-.31.83-.27.55-.63 1.02-1.06 1.38-.43.36-.93.63-1.47.79-.54.16-1.1.24-1.67.24z"></path></svg>
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div id="lightbox">
        <div class="lightbox-container">
            <div class="lightbox-image">
                <img src="" alt="Tampilan Detail Karya" id="lightbox-img">
            </div>
            <div class="lightbox-details">
                <h3 id="lightbox-title"></h3>
                <p id="lightbox-description"></p>
            </div>
        </div>
        <span id="lightbox-close">&times;</span>
    </div>

    <!-- Library Animasi -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <!-- Library 3D -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // ==============================================
        // DATA PORTOFOLIO
        // ==============================================
        const portfolioData = [
            { category: 'ilustrasi', src: 'https://images.unsplash.com/photo-1579783902614-a3fb3927b6a5?q=80&w=800&auto=format&fit=crop', title: 'Flora Abstrak', description: 'Sebuah eksplorasi bentuk dan warna bunga yang terinspirasi dari lukisan klasik, diinterpretasikan kembali dalam gaya digital modern.' },
            { category: 'branding', src: 'https://images.unsplash.com/photo-1555939594-58d7cb561ad1?q=80&w=800&auto=format&fit=crop', title: 'Seni Kuliner', description: 'Pengembangan identitas visual untuk sebuah restoran premium. Fokus pada fotografi makanan yang menggugah selera dan tipografi yang elegan.' },
            { category: 'uiux', src: 'https://images.unsplash.com/photo-1512295767273-ac109ac3acfa?q=80&w=800&auto=format&fit=crop', title: 'Aplikasi Produktivitas', description: 'Desain antarmuka untuk aplikasi mobile produktivitas. Dirancang untuk pengalaman pengguna yang intuitif dengan estetika minimalis.' },
            { category: 'branding', src: './Shampoo-1.png', title: 'Branding Media Digital', description: 'Rebranding untuk sebuah media digital, menggunakan warna-warna cerah dan bentuk geometris untuk menarik audiens muda.' },
            { category: 'ilustrasi', src: 'https://images.unsplash.com/photo-1509343256512-d77a5cb3791b?q=80&w=800&auto=format&fit=crop', title: 'Tipografi Neon', description: 'Karya tipografi eksperimental yang bermain dengan cahaya neon dan gaya retro-futuristik.' },
            { category: 'uiux', src: './Shampoo-2.png', title: 'Landing Page Startup', description: 'Desain landing page untuk sebuah startup teknologi, dengan fokus pada konversi dan penyampaian informasi yang jelas melalui visual.' }
        ];

        // ==============================================
        // DEKLARASI VARIABEL & ELEMEN DOM
        // ==============================================
        const portfolioGrid = document.querySelector('.portfolio-grid');
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        const lightboxTitle = document.getElementById('lightbox-title');
        const lightboxDesc = document.getElementById('lightbox-description');
        const lightboxClose = document.getElementById('lightbox-close');
        const lightboxContainer = document.querySelector('.lightbox-container');

        // ==============================================
        // GLOBAL MOUSE POSITION & KURSOR KUSTOM
        // ==============================================
        let mouseX = 0;
        let mouseY = 0;
        window.addEventListener('mousemove', (event) => {
            mouseX = event.clientX;
            mouseY = event.clientY;
        });

        const cursorDot = document.querySelector('.cursor-dot');
        const cursorCircle = document.querySelector('.cursor-circle');

        if (cursorDot && window.matchMedia("(pointer: fine)").matches) {
            let circleX = 0;
            let circleY = 0;

            function animateCursor() {
                // Dot mengikuti mouse secara langsung
                cursorDot.style.transform = `translate(${mouseX}px, ${mouseY}px) translate(-50%, -50%)`;

                // Circle mengikuti dengan sedikit delay (smoothing/lerp)
                const dx = mouseX - circleX;
                const dy = mouseY - circleY;
                circleX += dx * 0.2;
                circleY += dy * 0.2;
                cursorCircle.style.transform = `translate(${circleX}px, ${circleY}px) translate(-50%, -50%)`;
                
                requestAnimationFrame(animateCursor);
            }
            animateCursor();

            const addHoverClass = () => document.body.classList.add('cursor-hovered');
            const removeHoverClass = () => document.body.classList.remove('cursor-hovered');

            function updateHoverableElements() {
                document.querySelectorAll('a, button, .grid-item, .filter-btn, .logo, #lightbox-close, .nav-dot').forEach(el => {
                    el.removeEventListener('mouseenter', addHoverClass); // Mencegah listener duplikat
                    el.removeEventListener('mouseleave', removeHoverClass);
                    el.addEventListener('mouseenter', addHoverClass);
                    el.addEventListener('mouseleave', removeHoverClass);
                });
            }
            window.updateHoverableElements = updateHoverableElements; // Jadikan global agar bisa dipanggil dari fungsi lain
        }

        // ==============================================
        // DEFINISI FUNGSI
        // ==============================================

        /**
         * Menambahkan event listener ke setiap item grid untuk membuka lightbox.
         */
        function addGridItemListeners() {
            if (!lightbox) return;
            document.querySelectorAll('.grid-item').forEach(item => {
                item.addEventListener('click', () => {
                    lightboxImg.src = item.dataset.src;
                    lightboxTitle.textContent = item.querySelector('h3').textContent;
                    lightboxDesc.textContent = item.dataset.description;
                    lightbox.classList.add('show');
                    gsap.fromTo(lightboxContainer, {scale: 0.9, opacity: 0}, {scale: 1, opacity: 1, duration: 0.5, ease: 'power3.out'});
                });
            });
        }

        /**
         * Menambahkan efek 3D tilt pada item portofolio.
         */
        function addTiltEffect() {
            const gridItems = document.querySelectorAll('.grid-item');
            gridItems.forEach(item => {
                item.addEventListener('mousemove', (e) => {
                    const rect = item.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;
                    const rotateX = ((y - centerY) / centerY) * -10; // max 10 derajat
                    const rotateY = ((x - centerX) / centerX) * 10; // max 10 derajat

                    gsap.to(item, {
                        duration: 0.5,
                        transformPerspective: 1000,
                        rotationX: rotateX,
                        rotationY: rotateY,
                        scale: 1.05,
                        ease: 'power2.out'
                    });
                });

                item.addEventListener('mouseleave', () => {
                    gsap.to(item, {
                        duration: 0.5,
                        rotationX: 0,
                        rotationY: 0,
                        scale: 1,
                        ease: 'power2.out'
                    });
                });
            });
        }

        /**
         * Merender item portofolio ke dalam grid.
         * @param {Array} items - Array objek data portofolio.
         */
        function renderPortfolio(items) {
            portfolioGrid.innerHTML = '';
            items.forEach(item => {
                const div = document.createElement('div');
                div.className = 'grid-item';
                div.dataset.category = item.category;
                div.dataset.src = item.src;
                div.dataset.description = item.description;
                
                div.innerHTML = `
                    <img src="${item.src}" alt="${item.title}" loading="lazy">
                    <div class="item-overlay">
                        <h3>${item.title}</h3>
                        <span>${item.category.charAt(0).toUpperCase() + item.category.slice(1)}</span>
                    </div>
                `;
                portfolioGrid.appendChild(div);
            });
            addGridItemListeners();
            addTiltEffect();
            if (window.updateHoverableElements) {
                window.updateHoverableElements();
            }
        }

        // ==============================================
        // INISIALISASI & EKSEKUSI AWAL
        // ==============================================

        renderPortfolio(portfolioData);
        if (window.updateHoverableElements) {
            window.updateHoverableElements();
        }

        if (lightbox) {
            const closeLightbox = () => {
                gsap.to(lightboxContainer, {scale: 0.9, opacity: 0, duration: 0.3, ease: 'power3.in', onComplete: () => {
                    lightbox.classList.remove('show');
                }});
            };
            
            lightboxClose.addEventListener('click', closeLightbox);
            lightbox.addEventListener('click', e => {
                if (e.target === lightbox) closeLightbox();
            });
            document.addEventListener('keydown', e => {
                if (e.key === 'Escape') closeLightbox();
            });
        }

        // ==============================================
        // SETUP THREE.JS UNTUK LATAR BELAKANG
        // ==============================================
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('bg-canvas'), alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);

        const particlesGeometry = new THREE.BufferGeometry;
        const particlesCount = 5000;
        const posArray = new Float32Array(particlesCount * 3);

        for (let i = 0; i < particlesCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 5;
        }
        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));

        const particlesMaterial = new THREE.PointsMaterial({
            size: 0.005,
            color: 0x888888
        });
        const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particlesMesh);

        camera.position.z = 2;

        const clock = new THREE.Clock();
        function animate3D() {
            const elapsedTime = clock.getElapsedTime();
            particlesMesh.rotation.y = -0.1 * elapsedTime;
            if (mouseX > 0) {
                particlesMesh.rotation.x = -mouseY * (elapsedTime * 0.00008);
                particlesMesh.rotation.y += mouseX * (elapsedTime * 0.00008);
            }
            renderer.render(scene, camera);
            requestAnimationFrame(animate3D);
        }
        animate3D();

        window.addEventListener('resize', () => {
            renderer.setSize(window.innerWidth, window.innerHeight);
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
        });

        // ==============================================
        // SETUP GSAP & SCROLLTRIGGER ANIMATIONS
        // ==============================================
        gsap.registerPlugin(ScrollTrigger);

        const heroTitle = document.querySelector('.hero-title');
        heroTitle.innerHTML = heroTitle.textContent.replace(/\S/g, "<span class='char'>$&</span>");
        
        let tl = gsap.timeline();
        tl.from('.char', {
            y: 100,
            opacity: 0,
            stagger: 0.05,
            ease: 'power4.out',
            duration: 1
        })
        .from('.hero-subtitle', { y: 20, opacity: 0, ease: 'power2.out', duration: 0.8 }, "-=0.5")
        .from('#main-header', { y: -100, opacity: 0, ease: 'power2.out', duration: 1 }, 0)
        .from('#side-nav', { x: 100, opacity: 0, ease: 'power2.out', duration: 1 }, 0.5);

        const sections = document.querySelectorAll('section:not(#hero)');
        sections.forEach(section => {
            gsap.from(section.querySelectorAll('.section-title, .filter-buttons, .grid-item, .about-image, .about-content, .contact-content'), {
                scrollTrigger: {
                    trigger: section,
                    start: 'top 80%',
                    end: 'bottom 20%',
                    toggleActions: 'play none none none',
                },
                opacity: 0,
                y: 50,
                duration: 1,
                ease: 'power3.out',
                stagger: 0.2
            });
        });

        // ==============================================
        // EVENT LISTENERS LAINNYA
        // ==============================================
        const header = document.getElementById('main-header');
        ScrollTrigger.create({
            start: 'top top',
            end: 99999,
            onUpdate: self => {
                if (self.scroll() > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            }
        });

        const filterContainer = document.querySelector('.filter-buttons');
        if (filterContainer) {
            filterContainer.addEventListener('click', e => {
                if (e.target.classList.contains('filter-btn')) {
                    filterContainer.querySelector('.active').classList.remove('active');
                    e.target.classList.add('active');
                    const filterValue = e.target.getAttribute('data-filter');
                    
                    gsap.to('.grid-item', {
                        opacity: 0,
                        scale: 0.8,
                        duration: 0.4,
                        stagger: 0.05,
                        onComplete: () => {
                            const filteredData = filterValue === 'all' 
                                ? portfolioData 
                                : portfolioData.filter(item => item.category === filterValue);
                            renderPortfolio(filteredData);
                            gsap.fromTo('.grid-item', 
                                { opacity: 0, scale: 0.8, y: 50 },
                                { opacity: 1, scale: 1, y: 0, duration: 0.4, stagger: 0.05 }
                            );
                        }
                    });
                }
            });
        }
        
        const sideNavDots = document.querySelectorAll('.nav-dot');
        document.querySelectorAll('section[id]').forEach(section => {
            ScrollTrigger.create({
                trigger: section,
                start: 'top center',
                end: 'bottom center',
                onToggle: self => {
                    if (self.isActive) {
                        const sectionId = section.getAttribute('id');
                        const correspondingDot = document.querySelector(`.nav-dot[data-section="${sectionId}"]`);
                        sideNavDots.forEach(d => d.classList.remove('active'));
                        if (correspondingDot) {
                            correspondingDot.classList.add('active');
                        }
                    }
                }
            });
        });
    });
    </script>
</body>
</html>
